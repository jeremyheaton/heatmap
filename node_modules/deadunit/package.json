{
  "name": "deadunit",
  "description": "A dead-simple nestable unit testing library for javascript and node.js.",
  "keywords": [
    "unit",
    "test",
    "testing",
    "javascript",
    "node"
  ],
  "version": "5.1.12",
  "dependencies": {
    "colors": "https://github.com/fresheneesz/colors.js/archive/e990804d7c301765409770582c6aa6d562a23198.tar.gz",
    "deadunit-core": "5.0.18",
    "proto": "1.0.17",
    "async-future": "0.1.18",
    "blocks.js": "0.9.14"
  },
  "devDependencies": {
    "requirejs": "",
    "build-modules": "2.0.5"
  },
  "author": {
    "name": "Billy Tetrud",
    "email": "bitetrudpublic@gmail.com",
    "url": "https://github.com/fresheneesz/"
  },
  "license": {
    "name": "MIT",
    "url": "http://www.opensource.org/licenses/mit-license.php"
  },
  "main": "deadunit.node.js",
  "repository": {
    "type": "git",
    "url": "git://github.com/fresheneesz/deadunit"
  },
  "scripts": {
    "test": "node test/testDeadunit.js"
  },
  "readme": "`deadunit`\n========\n\nA *dead*-simple nesting unit testing module for testing in node.js and the browser!.\nThis repository provides default visual representations for the output of [deadunit-core](https://github.com/fresheneesz/deadunitCore),\n  as well as a formatter that can be used to easily create custom test visualizations.\n\nWhy use it over [Jasmine](http://pivotal.github.io/jasmine/) / [Node-Unit](https://github.com/caolan/nodeunit) / [Wizek's Tree](https://github.com/Wizek/Tree)\n==================\n\n * deadunit's *dead*-simple API only has two major ways to assert behavior (`ok` and `count`) making it easy to learn.\n * deadunit prints the lines of code of asserts in the test results! So your output makes sense even if you don't spend a lot of time writing test commentary.\n * deadunit just uses javascript! It doesn't have an awkward sentence-like api.\n * deadunit's `count` method elegantly solves various issues like expecting exceptions and asynchronous asserts - just `count` up the number of `ok`s!\n * deadunit follows best practices for modular design rather than creating global variables and functions\n * deadunit doesn't provide spies. The use of spies is bad practice as tests should treat the modules they test as black boxes by only testing the public API. The internals of these APIs should be left alone.\n * deadunit is simpler to use because it doesn't provide needless sugar (e.g. Tree's always-pass/always-fail asserts)\n * deadunit doesn't proscribe synchronization for you - it only expects that you tell it how many `ok`s you expect (with `count`) when you have asynchronous assertions.\n * it prints out exception *and* any attached data they have\n * it'll let you know if your code is hanging (something you don't want, but usually goes unnoticed)\n * deadunit supports testing code that uses [node fibers](https://github.com/laverdet/node-fibers)\n * deadunit's output is easier to visually parse than jasmine, or wizek's tree, and much easier than node-unit\n\nExample\n=======\n\n```javascript\nvar Unit = require('deadunit')\n\nvar test = Unit.test('some test name', function() {\n    this.count(5) // expect all 5 `ok` assertions\n\n    var obj = {x:5, y: 'noty?'}\n    this.ok(obj.x === 5)\n    this.ok(obj.y === 'y')\n\n    this.test('nested test', function() {\n        this.ok(obj.go() > 4)\n    })\n\n    try {\n    \tthrow new Error(\"oops\") // exceptions\n    } catch(e) {\n    \tthis.ok(true) // expect an exception\n    }\n\n    setTimeout(function(result) { // do something asynchronous\n        this.ok(result === 'good')\n    }, 10)\n})\n\ntest.writeConsole() // writes colorful output!\ntest.html()         // returns pretty html!\ntest.writeHtml(document.body) // writes pretty html to the current page (if you're testing in a browser)!\n```\n\nInstall\n=======\n\n```\nnpm install deadunit\n```\n\nUsage\n=====\n\n##### node.js or [webpack](https://github.com/webpack/webpack)\n```javascript\nvar Unit = require('deadunit')\n```\n\n##### [webpack](https://github.com/webpack/webpack)\n```javascript\nvar Unit = require('deadunit/deadunit.browser')\n```\n\n##### require.js\n```javascript\nrequire(['node_modules/browserPackage/deadunit.browser.gen.umd'], function(Unit) {\n```\n\n##### browser global-variable\n```javascript\n<script src=\"/node_modules/deadunit/browserPackage/deadunit.browser.gen.umd.js\"></script>\n<script>\nvar Unit = deadunit\n</script>\n```\n\nMain Methods\n-----------\n\n`Unit.test([<name>, ]<testFunction>)` - runs a suite of unit tests. Returns an ExtendedUnitTest object.\n\n * `<name>` - (optional) names the test\n * `<testFunction>` - a function that contains the asserts and sub-tests to be run. Both its only parameter and its bound `this` is given the same `UnitTester` object.\n\n`Unit.format(<unitTest>, <printOnTheFly>, <printLateEvents>, <format>)` - creates custom formatted output for test results according to the passed in `<format>`.\n\n* `<unitTest>` is a `UnitTest` (or `ExtendedUnitTest`) object\n* `<printOnTheFly>` - if true, events will be printed to the console as they come in\n* `<printLateEvents>` - (optional - default true) if true, a warning will be printed when events come in after the results have been written.\n* `<format>` - an object containing functions that format the various types of results. Each formater function should return a `String`.\n    * `format.assert(result, testName)`\n    \t* `result` is a deadunit-core [assert result object](https://github.com/fresheneesz/deadunitCore#assert)\n        * `testName` is the name of the test the assert is under\n    * `format.exception(exception)`\n        * `exception` is an exception object (could be any object that was thrown)\n    * `format.group(name, totalDuration, totalSynchronousDuration, testCaseSuccesses, testCaseFailures,`\n       `assertSuccesses, assertFailures, exceptions, results, exceptionResults, nestingLevel)`\n       * `name` is the test group name\n       * `totalDuration` - the total duration the test took from start to the last test-action\n       * `testCaseSuccesses` - the number of successful asserts (the `ok` method) and groups in this test group. *Does not count asserts and test-groups inside subtest groups*\n       * `testCaseFailures` - the number of failed asserts and groups in this test group. *Does not count asserts and test-groups inside subtest groups*\n       * `assertSuccesses` - the number of successful asserts in this test group and all subgroups.\n       * `assertFailures` - the number of failed asserts in this test group and all subgroups.\n       * `exceptions` - the number of exceptions in this test group and all subgroups.\n       * `results` - an array of already-formatted test results.\n       * `exceptionResults` - an array of already-formatted exceptions.\n       * `nestingLevel` is what level of test group this is. The top-level test is at level 0.\n    * `format.log(values)`\n    \t* `values` is an array of logged values\n\nUnitTester\n----------\n\nFor documentation on how to write unit tests using the following methods, see [deadunit-core](https://github.com/fresheneesz/deadunitCore).\n\n```\nthis.ok(<success>, [<actualValue>, [expectedValue]])\nthis.ok(<actualValue>, <expectedValue>)\nthis.count(<number>)\nthis.test([<name>, ]<testFunction>)\nthis.log(<value>, <value2>, ...)\nthis.timeout(<milliseconds>)\nthis.before(<function>)\nthis.after(<function>)\nthis.error(<function>)\nthis.sourcemap(<enable>)\n```\n\nExtendedUnitTest\n----------------\n\nThis object extends [UnitTest from deadunit-core](https://github.com/fresheneesz/deadunitCore#unittest). Also has the following methods:\n\n`test.writeConsole(<hangingTimeout>)` - writes colorized text output to the console. Returns a [future](https://github.com/fresheneesz/asyncFuture) that resolves when the console writing is complete. `<hangingTimeout>` (optional - default 100) is the number of milliseconds to wait for the script to exit after the results have been written. If the script hasn't exited in that amount of time, a warning will be written. If zero, no warning happens. This only applies to node.js. *See below for screenshots.*\n\n`test.writeHtml(<domElement>)` - writes test output to the dom element who's reference was passed to writeHtml. Returns a [future](https://github.com/fresheneesz/asyncFuture) that resolves when the console writing is complete. *See below for screenshots.*\n\n`test.string(<colorize>)` - returns a future that resolves to a string containing formatted test results. `<colorize>` (default false) should only be set to true if it will be printed to a command-line console. *See below for screenshots.*\n\n`test.html(<printLateEvents>)` - returns a string containing html-formatted test results. *See below for screenshots.*\n  * `<printLateEvents>` - (optional - default true) if true, a warning will be printed when events come in after the results have been written.\n\n`test.results()` - see [deadunit-core](https://github.com/fresheneesz/deadunitCore#usage). When called from deadunit, doesn't print a warning for late events, use the `events` method if you need to detect that.\n\n### Screenshots ###\n\n![Simple colorized tests](screenshots/SimpleTestsColorized.png \"Simple colorized tests\")\n\n![Full colorized test results](screenshots/FullTestColorized.png \"Full colorized test results\")\n\n![Plain Text Output](screenshots/PlainTextScreenshot.png \"Plain Text Output\")\n\n![Simple HTML tests](screenshots/SimpleTestsHtml.png \"Simple HTML tests\")\n\nPassing tests are closed and failling tests are open by default. Clicking on the bars toggles sections open or closed.\n![Full HTML test results](screenshots/FullTestHtml.png \"Full HTML test results\")\n\nNote about tests with asynchronous parts\n========================================\n\nJavascript (and node.js especially) has a lot of asynchronous parts.\nDeadunit allows your tests to run asychronously/concurrently, but you have to manage that concurrency.\n\nI recommend that you use either:\n\n* [`fibers/future`s](https://github.com/laverdet/node-fibers#futures),\n* or my own [async-futures](https://github.com/fresheneesz/asyncFuture)\n\nOn browsers, since there is nothing as nice as node.js Domains, the`window.onerror` handler is used. The `onerror` handler has [many limitations](http://blog.meldium.com/home/2013/9/30/so-youre-thinking-of-tracking-your-js-errors), one of which is that it doesn't currently return an exception object with a stacktrace. If you want to see a more detailed stacktrace for these kinds of errors, check your browser's console (ahem, if you have one - I'm looking at you older versions of IE) because deadunit will not be able to capture and display a stacktrace in its normal output. One goal for most any code is to have 0 unhandled asyncronous exceptions.\n\nEnvironment/Browser Support\n=============\n\n* node.js\n* Browsers - note, on browsers, the source is not yet displayed in the output\n * Chrome 31\n * Firefox 26\n * IE 10\n\nThis needs more testing! Please help by testing and reporting bugs in other browsers or browser versions!\n\nTodo\n====\n\n* for writeHtml, make unfinished tests gray (only change to red if they are for sure failures)\n\n* Make it so that when run without a server, it emits a small note that explains that you can't get source files with the file:// protocol\n    * add an example node http server in the docs so people can just take it and use it easily so they can get sourcelines in their test\n\n* Add tap output http://testanything.org/\n* Add karma integration\n* Test deadunit on more browsers and browser versions\n* add the ability to stream test results to a browser\n* Also see [the todos for deadunit-core](https://github.com/fresheneesz/deadunitCore#to-do)\n\nKnown Bugs\n===========\n\n* A bug in [`fibers/future`s](https://github.com/laverdet/node-fibers#futures) can cause deadunit to fail to catch errors thrown from a fiber, which can lead to the process to crash prematurely (before printing test results). See https://github.com/laverdet/node-fibers/issues/172\n\nHow to Contribute!\n============\n\nAnything helps:\n\n* Creating issues (aka tickets/bugs/etc). Please feel free to use issues to report bugs, request features, and discuss changes.\n* Updating the documentation: ie this readme file. Be bold! Help create amazing documentation!\n* Submitting pull requests.\n\nHow to submit pull requests:\n\n1. Please create an issue and get my input before spending too much time creating a feature. Work with me to ensure your feature or addition is optimal and fits with the purpose of the project.\n2. Fork the repository\n3. clone your forked repo onto your machine and run `npm install` at its root\n4. If you're gonna work on multiple separate things, its best to create a separate branch for each of them\n5. edit!\n6. If it's a code change, please add to the unit tests (in the appropriate test file in the 'test/' folder) to verify that your change works\n7. When you're done, run the unit tests and ensure they all pass\n   * Make sure you run `node build.js` to build the browser packages (browserPackage/deadunitCore.browser.gen.umd.js and test/deadunitTests.browser.umd.js) before running the browser tests\n   * Test the following (lots of it requires visually make sure everything looks right):\n    * node test/testDeadunit.node.js\n    * open test/allGenerated.node.html in browsers\n    * open test/testDeadunitBrowserGlobal.html in browsers\n    * open testDeadunit.html in browsers\n    * run `node testServer` and open http://localhost:8000/ in browsers\n8. Commit and push your changes\n9. Submit a pull request: https://help.github.com/articles/creating-a-pull-request\n\nChange Log\n=========\n\n* 5.1.12 - pulling in update from deadunitCore (for 2 minor bug fixes)\n* 5.1.11 - fixing bug where test group wasn't being marked as a failure if its count expected less than it got\n* 5.1.10\n    * fixing bug: writeHtml - Got and expected printing when the test passes\n    * fixing bug: writeHtml - Fails aren't turning red when they're late\n    * fixing bug: writeHtml - counts that get to their full count late A. don't turn yellow and B. the test doesn't get the count and is treated as a failure\n    * fixing a couple other edge-case bugs in writeHtml\n* 5.1.9\n    * Removing inner titles in sub-groups in the writeHtml output\n    * Moved to webpack for building bundles (for easier development)\n    * vastly improving writeHtml so that output is written on the fly as events come in (instead of all at once after the test is completed)\n    * coloring late events and groups yellow\n    * fixing test-name printing in script hanging warning\n    * removing dependence on jquery for writeHtml\n    * upping versions of various dependencies for all their improvements\n* 5.1.8\n    * fixing but that happens if util.inspect throws an exception (can happen if certain dom node objects are passed as values)\n    * minor color fix\n    * minor exception handling fix in writeHtml\n* 5.1.7 - updating core\n* 5.1.6 - updating core\n* 5.1.5 - updating core\n* 5.1.4 - updating core to fix \"too much recursion\" suceptibility\n* 5.1.3 - updating core\n* 5.1.2 - updating core to pull in some error handling improvements\n* 5.1.1 - fixing html display bug caused in last commit\n* 5.1.0\n    * changing writeHtml to take a dom node instead of a jquery node\n    * pulling in new deadunit version to fix a memory leak and to fix firefox stacktrace parsing for their new format (that includes the column number now)\n* 5.0.3 - pulling new version of core for a couple things including a huge performance improvement\n* 5.0.2 - pulling new version of core to fix annoying bug where eq's expected and got are backwards\n* 5.0.1 - updating deadunit-core to pull in a sourcemap fix\n* 5.0.0\n    * updating deadunit-core to pull in sourcemap support among other things\n    * Changing write-on-the-fly to only print out test-groups and unsuccessful asserts\n    * fixing issue where sometimes late events wouldn't print the late-event warning https://github.com/fresheneesz/deadunit/issues/16\n    * Fixing exception printing in firefox (which was omitting the exception message)\n    * Fixing exception printing in-browser so that you get one per line instead of them running together\n* 4.1.1 - updating deadunit-core for firefox stackinfo fix\n* 4.1.0\n    * Switching to not-yet-accepted commit of `colors` that supports a safe mode (where it doesn't modify the String prototype). *Modifying builtins is dangerous*.\n    * This comes with a slight API change to deafultformats.text, where you have to pass in the colors module instead of a boolean\n* 4.0.4 - updating deadunit-core for a browser-side bug fix\n* 4.0.2 - updating deadunit-core\n* 4.0.1 - updating deadunit-core to get support for source-code lines in-browser\n* 4.0.0 - removing totalSynchronousDuration from format, and upgrading to deadunit-core 4.0.0 (which fixes some timeout problems)\n* 3.0.1 - deadunit-core bugfix\n* 3.0.0\n  * updating to new version of deadunit-core to bring in some improvements (minor breaking change)\n* 2.0.15\n  * Adding late-events warning text output\n* 2.0.13\n  * keeping up with deadunit-core, updating for a minor stacktrace display bugfix\n* 2.0.12\n  * keeping up with deadunit-core\n* 2.0.11\n  * add generated browser package to repo (since npm post install doesn't work correctly)\n* 2.0.10\n  * fixing double-printing of exceptions\n* 2.0.9\n  * attempting to work around an npm bug\n* 2.0.4\n  * adding browser support\n* 2.0.1\n  * added a note when a test times out\n  * added the ability to warn if the script is hanging after `test.writeConsole` prints out the test\n* 2.0.0 - *Breaking Change*\n  * incorporating changes in [deadunit-core](https://github.com/fresheneesz/deadunitCore#usage) 2.0.0\n  * added `test.results`\n  * `test.writeConsole` and `test.html` only return when the test is done (or times out)\n  * `test.writeConsole` outputs test results as they happen in addition to outputting the final output\n  * removed `test.toString`\n  * `test.string` and `test.html` now return futures\n* 1.0.7\n  * Pretty printing logs other places objects are printed\n  * html output\n  * handling properties on exceptions\n\nLicense\n=======\nReleased under the MIT license: http://opensource.org/licenses/MIT\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/fresheneesz/deadunit/issues"
  },
  "homepage": "https://github.com/fresheneesz/deadunit",
  "_id": "deadunit@5.1.12",
  "dist": {
    "shasum": "4037401d3023c4df6d8a9a596f2009ece185b96e"
  },
  "_from": "deadunit@",
  "_resolved": "https://registry.npmjs.org/deadunit/-/deadunit-5.1.12.tgz"
}
